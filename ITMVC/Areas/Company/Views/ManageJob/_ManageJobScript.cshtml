<script>
    function LoadMangeJobAll() {
        debugger;
        var companyId = $("#Company_CompanyDetailsId").val();
        if (companyId == "") {
            swal("First Fill Company Details !", "You clicked the button!", "error");
        } else {
            var url = '@Url.Action("AllJobPartial", "ManageJob", new { area = "Company" })';
            $.ajax({
            type: "POST",
            url: url,
                data: { 'companyId': companyId },
            success: function (response) {
            debugger;
                $("#AllJobDIV").empty();
                $("#AllJobDIV").append(response);
                
            //$(".modal-backdrop").css("display", "none");
            //return true;
            },
            error: function (response) {
            console.log(response);
            //return false;
            }
            });
            }

    }

     function LoadPendingJobAll() {
        debugger;
        var companyId = $("#Company_CompanyDetailsId").val();
        if (companyId == "") {
            swal("First Fill Company Details !", "You clicked the button!", "error");
        } else {
            var url = '@Url.Action("PendingApprovalJobPartial", "ManageJob", new { area = "Company" })';
            $.ajax({
            type: "POST",
            url: url,
                data: { 'companyId': companyId },
            success: function (response) {
            debugger;
                $("#pendingJobDIV").empty();
                $("#pendingJobDIV").append(response);
                
            //$(".modal-backdrop").css("display", "none");
            //return true;
            },
            error: function (response) {
            console.log(response);
            //return false;
            }
            });
            }

    }

    function LoadApprovedJobAll() {
        debugger;
        var companyId = $("#Company_CompanyDetailsId").val();
        if (companyId == "") {
            swal("First Fill Company Details !", "You clicked the button!", "error");
        } else {
            var url = '@Url.Action("ApprovedJobPartial", "ManageJob", new { area = "Company" })';
            $.ajax({
            type: "POST",
            url: url,
                data: { 'companyId': companyId },
            success: function (response) {
            debugger;
                $("#ApprovedJobDIV").empty();
                $("#ApprovedJobDIV").append(response);
                
            //$(".modal-backdrop").css("display", "none");
            //return true;
            },
            error: function (response) {
            console.log(response);
            //return false;
            }
            });
            }

    }

    function LoadRejectedJobAll() {
        debugger;
        var companyId = $("#Company_CompanyDetailsId").val();
        if (companyId == "") {
            swal("First Fill Company Details !", "You clicked the button!", "error");
        } else {
            var url = '@Url.Action("RejectedJobPartial", "ManageJob", new { area = "Company" })';
            $.ajax({
            type: "POST",
            url: url,
                data: { 'companyId': companyId },
            success: function (response) {
            debugger;
                $("#RejectedJobDIV").empty();
                $("#RejectedJobDIV").append(response);
                
            //$(".modal-backdrop").css("display", "none");
            //return true;
            },
            error: function (response) {
            console.log(response);
            //return false;
            }
            });
            }

    }

     function LoadJobPartialEdit(jobId) {
        debugger;
        var companyId = $("#Company_CompanyDetailsId").val();
        if (companyId == "") {
            swal("First Fill Company Details !", "You clicked the button!", "error");
        } else {
            var url = '@Url.Action("PostJob", "Job", new { area = "Company" })';
        $.ajax({
            type: "POST",
            url: url,
            data: { 'comapnyDetailsId': companyId, 'JobId': jobId },
            success: function (response) {
                debugger;
                $("#job-page").empty();
                $("#job-page").append(response);
                $("#post-tab").tab('show');
                //$(".modal-backdrop").css("display", "none");
                //return true;
            },
            error: function (response) {
                console.log(response);
                //return false;
            }
        });
        }
        
    }

    function DeleteJobPartial(jobid) {
        swal({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover this imaginary file!",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {
                    DeleteJob(jobid);
                } else {
                    swal("Your imaginary file is safe!");
                }
            });
    }

    function DeleteJob(jobid) {
        debugger;
        $("#JobShowDiv").css("display", "show");
       
        var url =  '@Url.Action("DeleteJobs", "ManageJob", new { area = "Company" })';
        var myobject = JSON.stringify({ 'jobId': jobid });

        $.ajax({
            type: "POST",
            url: url,
            contentType: 'application/json;charset=utf-8',
            dataType: "json",
            data: myobject,
            success: function (response) {
                debugger;
                $("#JobShowDiv").css("display", "none");
                if (response) {
                    swal("Success !", "You clicked the button!", "success");
                    LoadMangeJobAll();
                    $("#all-job-tab").tab('show');
                } else {
                    swal(response, "You clicked the button!", "Error");
                }

                
            },
            error: function (response) {
                alert("Errpr");
                console.log(response);
            }
        });
    }
</script>
